# Занятие 2 <!-- Metadata: type: Outline; created: 2019-12-16 14:39:43; reads: 7; read: 2019-12-16 15:36:27; revision: 3; modified: 2019-12-16 15:36:27; importance: 0/5; urgency: 0/5; -->
### Видео 1. Принципы ООП <!-- Metadata: type: Note; created: 2019-12-16 14:39:43; reads: 1; read: 2019-12-16 14:39:43; revision: 1; modified: 2019-12-16 14:39:43; -->
* Что-то щелкает на видео у меня
* ?fix: 1 19 Свойства -> Принципы
* Григорий - оптик по образованию (?)
* Выделить основные объекты, вокруг которых будут строиться другие
    * Выделить детали, основные
        * Пример
            * игра - руль
        * что мы можем отбросить
        * в компьютере модель
            * абстракция
                * идеальная
                    * нельзя ничего убрать
* 20 04 Object_s_ - ?
* ?q: 20 51 строки - представление в памяти будет в одной ячейке?
* ?q: 
  * В какой области памяти находится описание объектов - Класс? Стек?
  * В какой сами объекты? Хип?

$hack: IDEA
Alt F8 можно посмотреть объекты в режиме debug

* 46 31 Логически - не очень понятно в каком контексте.

* ?q: Что в результате мы получаем
    * Пример с классом Resume
      * uuid член класса какой имеет по отношению к объекту класса тип связи (композиция - ?)

        * аргегация

        * композиция

### Видео 2. Структура памяти: куча, стек, регистры, константы <!-- Metadata: type: Note; created: 2019-12-16 14:39:43; reads: 1; read: 2019-12-16 14:39:43; revision: 1; modified: 2019-12-16 14:39:43; -->
* getClass() 

### Видео 3. Типы данных. Пакеты <!-- Metadata: type: Note; created: 2019-12-16 14:39:43; reads: 1; read: 2019-12-16 14:39:43; revision: 1; modified: 2019-12-16 14:39:43; -->
* Типы данных 
    * Ссылочные
        * Данные хранятся в Heap
        * В Stack хранится только адрес этих ссылочных данных
        * И т.д. разворачивается объектная модель
    * equals() 
```
    отличается от ==

    2 40 Что определяет идентичность объектов, которые в хранятся в Heap
    == - сравнивает адреса, хранимые в Stack, объектов, размещенных в Heap
    r1.equals(r2) - by default реализация ==. Возможно переопределить
        На видео не очень точно - сравниваются не объекты как ==, а значения их адресов в Stack.
    
    04 19 Ссылочные типы принято сравнивать логически
        по equals(), переопределяя
            пример
                резюме - логически 1 объект
                    имеет неизменный uuid
                        если из app записали/извлекли в файл/БД
                            получили
                                в Heap 2 разных объекта
                        поэтому, сравнивать нужно логически
                            при этом, они могут быть разными объектами в памяти
    r1.uuid = "uuid";
        при вызове
            сначала создался ссылочный объект (ссылочный тип)
            r1 типа Resume 
            в Heap
                от него создался еще 1 объект (ссылочный тип)
                uuid типа String
                в Heap
                    который ссылается на еще 1 объект (константный тип)
                    в Metaspace
                    
                    константные строки хранятся в Metaspace
                
                    ?q: Константные и примитивные значения - отличия?
                    ?q: test: Если сравнить 2 строки, то они должны быть true? !a: Да
                    
                    
        "uuid" - константный объект
            хранится в Metaspace
    toString()
        не рассмотрели
```    
                                
 

* Автобоксинг
```
Обертки над примитивными типами. Автоматом происходит. 
Используется в Collections
```

* Пакет
``` 

Уровень абстракции
Уникальность требуется, чтобы не было коллизий при загрузке классов.
FQDN наоборот.
Создаем вложенные пакеты.
webapp - может быть несколько приложений.
Представление в ФС
    Пакет - каталог
    Класс - файл
После перемещения, в класс вставляется 
package ...

$hack: test: IDEA
Ctrl T получить себе коммит - проверить (?)
Alt Enter добавить класс

import добавляет с FQDN класса
    показывает точный путь к файлу класса
        решает коллизии при совпадении в разных пакетах
```
    
* Области видимости
```

модификатор доступа default по умолчанию - неявно
т.е. r1.uuid я к uuid не могу обратиться из другого пакета.
Пакеты по иерархии не раскрываются - это обособленные контейнеры. Нужно явно каждый раз inport-ить.

Через . к члену класса обращаться в Java не принято. Применять get set -ы.
    Кроме типо
        структур или 
        PODO (?)
    Можно добавить код в сеттер, 
        преобразующий
        проверяющий данные на вход
        можем менять реализацию
            ---
            элемент инкапсуляции

Модификаторы доступа к членам класса
public 
открыт
  всем
    protected
    открыт только
      пакет
      наследники
        default
        открыт только
          пакет
            private
            открыт только
              класс

Пакетами 
    реализуется инкапсуляция
    дополнительный уровень группировки
        Можно накладывать ограничения на уровне пакетов - общение между ними.
```

### Видео Домашнее задание HW2 <!-- Metadata: type: Note; created: 2019-12-16 14:39:43; reads: 1; read: 2019-12-16 14:39:43; revision: 1; modified: 2019-12-16 14:39:43; -->
```

Не храним дырки
    переменная

5 15 update
при 
            ---
    save 
        если есть в storage
    ---
    update
    delete
    ---
        если нет в storage
            ---
            при ошибке выводить err через sout
            return null;    
```
+?q: На что указывает объект типа String uuid > value = char[5]@460 объекта в debug
Тип объекта и адрес в памяти
https://www.youtube.com/watch?v=DrQqZj5OIZc

## Занятие 3 <!-- Metadata: type: Note; created: 2019-12-16 14:39:43; reads: 1; read: 2019-12-16 14:39:43; revision: 1; modified: 2019-12-16 14:39:43; -->

### Разбор домашнего задания <!-- Metadata: type: Note; created: 2019-12-16 14:39:43; reads: 1; read: 2019-12-16 14:39:43; revision: 1; modified: 2019-12-16 14:39:43; -->
Именование и модификаторы доступа
Рефакторинг getIndex в get()
$hack: IDEA Control Alt V
$hack: IDEA Control Alt N (inline обратная операция)
Восстановление проекта из-за ошибки Git merge
$hack: IDEA ПКМ - Local history, можно на файле, можно на каталоге в проекте вызывать.
### Объектная модель в Java <!-- Metadata: type: Note; created: 2019-12-16 14:39:43; reads: 1; read: 2019-12-16 14:39:43; revision: 1; modified: 2019-12-16 14:39:43; -->
Спрашивают на собеседовании
    Методы Object
        ---
        equals
        hashcode
        ---
            Какой контракт?

        clone
            не рекомендуется
                Блох
                    Эффективное программирование
                ?q: конструктор копирования
                Exceptions
            клонирует
                дублирует область памяти
            в куче будет

 ?q: 03 10 Речь про копирование ссылки на агрегированный объект?

 $hack: IDEA
 Control N - Просмотр всех методов
 Control F12 все методы
        finalize
            мы не знаем когда GC освобождает память
                GC
                    вызвать его мы можем
                        System.gc
                            нет гарантий, что JVM вызовется

            ---
            notify
            ...
            wait
            ...
            ---
                многопоточность
                    много сложностей

        equals
            08 40 для нашей программы переопределяем
$hack: IDEA
Alt Ins

            12 54 Какими свойствами должен обладать equals
                собеседование

?q: Как я могу при коммите не включать пробелы?

fix: 14 18 реализовано на уровне С... Но, JVM на С++ написана https://en.wikipedia.org/wiki/HotSpot https://github.com/sourcemirror/jdk-8-hotspot

$hack: IDEA
Ctrl Q читать JavaDoc

11 45 добавить JavaDoc интернет
Shift F1

Статические методы
Посылаем сообщение не объекту в Heap, а классу, т.е. объекту в MetaSpace

$hack: IDEA
Ctrl P
показать параметры метода

смотреть чаще реализацию методов

$hack: IDEA Alt Enter выбрать слово из правописания

из static к объектам полям класса не могу получить доступ, т.к. не понятно из какого объекта брать значение

хороший тон - объявлять поля и переменные final. Это не значит, что

для методов класса final встечается не часто в обычном программировании

$hack: IDEA Shift F6 рефакторинг переменной в static final

из числа в константу
32 49 Ctrl Alt C
extract constant
    поменять на private

в контексте методов
    от объекта к классу можно использовать static члены класса
    наоборот - нельзя
        нельзя вызвать из статич метода поле объекта
https://gist.github.com/voothi/6601a2d291edd7aac693e5e190e67664

this
перекрытие переменных - учли в геттерах ...

большой класс - проблема с декомпозицией

43 45 интерфейсы
в инт не может быть чл. класса
это контракт
по умолчанию интерфейсы public

### Сложность алгоритмов <!-- Metadata: type: Note; created: 2019-12-16 14:39:43; reads: 1; read: 2019-12-16 14:39:43; revision: 1; modified: 2019-12-16 14:39:43; -->
3_3_Абстрактные классы, сложность алгоритмов

Создаем класс AbstractArrayStorage
Оптимизация
    перебор млн элементов в массиве
        временная сложность алгоритма time complexity
    есть ещё

        пространственная сложность
            вычислительная (временная + простр-ая)
O - сложность
зависимость
06 20 разбор документа pdf цикл
есть курсы на cousera и др.
нужно знать алгоритмы
    какие есть
    какая сложность

можно взять середину отсортированного массива
лог по осн. 2 от н
если лог от н в задаче, то что-то связано с сортировкой
и поиском в таком списке

SortedArrayStorage - реализация на основе отсортированного списка
можем отсортировать в порядке uuid-ов,
    уникальны
    возрастание
    убывание

общее Sorted и обычный
массив
    размер
    size

полиморфизм
общее - в абстрактном классе,
    он не обязан импл-ть все методы интерфейса

абстрактный класс
    мы не можем создать объект
        не можем инстанцировать такой объект

ставим protected

перенесли метод size в абстракт

### Паттерн проектирования Шаблонный метод <!-- Metadata: type: Note; created: 2019-12-16 14:39:43; reads: 1; read: 2019-12-16 14:39:43; revision: 1; modified: 2019-12-16 14:39:43; -->
3_4_Паттерн проектирования шаблонный метод.mp4

Двоичный поиск
Шаблонный метод
    Опеределили алгоритм
        в абстр классе
            в get()
                в качестве шага
                используем абстр метод, реализация которого переопределяется в субклассах

getUpdate в Sorted...
    двоичный поиск
        резюме в массиве (отсортированном) и по ключу
            должны мочь сравниваться бизнес-логически
                должен быть equals переопределен в Resume
        элементы должны быть отсортированы

$hack: IDEA
Ctrl ЛКМ - провалиться по вызову
Ctrl Shift - автодополнение, на методе показать варианты параметров
Ctrl Alt Left, Right - перемещение по вызовам

?q: int mid = (low + high) >>> 1;

Resume ошибка cast
    Интерфейс Comparable

$hack: IDEA
Ctrl N - ищем интерфейс Comparable

15 15
compareTo
-1
0
> 0

имплементируем Comparable в Resume

проверять перед checkin изменения
Alt Left Right перемещение

не передавать пробелы в классах, - отдельно

21 50 как делать реверт

force push на master делать в prod нельзя

insert binary search
    подсказка

$hack: IDEA
Ctrl Shift R - Replace замена по проекту


